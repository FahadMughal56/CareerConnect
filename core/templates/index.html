{% extends 'base.html' %}
{% load static %}
{% block title %}CareerConnect - HomePage{% endblock %}

{% block content %}
{% if request.session.full_name %}
    <p style="
    color: #6a11cb;
    align-items: center;
    justify-content: center;
    display: flex;
    margin: 10px;
    font-size: larger;
    font-weight: bolder;
">Welcome, {{ request.session.full_name }}</p>
{% endif %}
<section class="hero">
    <div class="hero-content">
        <h1>Find a job that aligns with your interests and skills</h1>
        <p>Thousands of jobs in all the leading sectors are waiting for you.</p>
        <form method="GET" action="{% url 'search_results' %}">
            <div class="search-bar">
        <input type="text" id="search-input" name="keyword" placeholder="Job title, Keyword" value="{{ request.GET.keyword }}">
        <div id="suggestions-list" class="suggestions-dropdown"></div>  <!-- Suggestions dropdown -->
        <input type="text" name="location" placeholder="Location" value="{{ request.GET.location }}">
        <button type="submit">Find Job</button>
    </div>
        </form>
        <p class="suggestions">
            Suggestion: UX Designer, <span>Software Engineer</span>, Marketing Specialist, Full Stack Developer.
        </p>
    </div>
    <div class="hero-image">
        <img src="{% static 'assets/hero-bg.png' %}" alt="Hero Illustration">
    </div>
</section>

<section class="featured-jobs">
    <h1>Featured Jobs</h1>
    <p>Choose jobs from the top employers and apply for the same.</p>
    <div class="job-cards-container">
        {% for job in jobs %}
        <div class="job-card">
            <h2>{{ job.title }}</h2>
            <p class="company">{{ job.company }}</p>
            <p class="location">{{ job.location }}</p>
            <p class="salary">{{ job.salary }}</p>
            <div class="buttons">
                <a href="{% url 'job_details' job_id=job.id %}">
                    <button class="view-details">View details</button>
                </a>
                <button class="apply-now">Apply now</button>
            </div>
        </div>
        {% empty %}
        <p>No featured jobs available at the moment.</p>
        {% endfor %}
    </div>
</section>

<section class="recommended-jobs">
    <h1>Recommended Jobs</h1>
    <p>Based on your skills and interests</p>
    <div class="job-cards-container">
        {% for job in recommended_jobs %}
        <div class="job-card">
            <h2>{{ job.title }}</h2>
            <p class="company">{{ job.company }}</p>
            <p class="location">{{ job.location }}</p>
            <p class="salary">{{ job.salary }}</p>
            <div class="buttons">
                <a href="{% url 'job_details' job_id=job.id %}">
                    <button class="view-details">View details</button>
                </a>
                <button class="apply-now">Apply now</button>
            </div>
        </div>
        {% empty %}
        <p>No job recommendations available right now.</p>
        {% endfor %}
    </div>
</section>

<!-- About CareerConnect Section -->
<section class="about">
    <div class="about-container">
        <div class="about-content">
            <h2>Your Career, Your Future – All in One Place</h2>
            <p>
                Welcome to <strong>CareerConnect</strong> – the smart job portal designed to bridge the gap between job seekers and employers. 
                Whether you’re searching for your dream job or the perfect candidate, we make the hiring process seamless, efficient, and tailored to your needs.
            </p>
            <h3>Why Choose CareerConnect?</h3>
            <ul>
                <li><strong>Smart Job Matching:</strong> AI-powered recommendations based on your skills and experience.</li>
                <li><strong>Real-Time Job Updates:</strong> Aggregated listings from top global and local job boards.</li>
                <li><strong>Easy Profile & Resume Upload:</strong> Showcase your skills to top recruiters.</li>
                <li><strong>Career Growth Insights:</strong> Salary trends, market demand, and in-demand skills.</li>
                <li><strong>Employer Solutions:</strong> AI-powered candidate search, job posting, and application tracking.</li>
            </ul>
            {% comment %} <a href="register.html"><button class="login-btn">Join Now</button></a> {% endcomment %}
        </div>
        <div class="about-image">
            <img src="{% static 'assets/about.jpg' %}" alt="CareerConnect Platform">
        </div>
    </div>
</section>

<section class="job-categories-section">
    <h2 class="section-title">Explore Top Job Categories</h2>
    <div class="category-card-container">

        <div class="card ux" onclick="window.location.href='{% url 'jobs_by_category' 'UX Designer' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-pencil-ruler"></i></div>
            <p>UX Designer</p>
        </div>

        <div class="card se" onclick="window.location.href='{% url 'jobs_by_category' 'Software Engineer' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-code"></i></div>
            <p>Software Engineer</p>
        </div>

        <div class="card marketing" onclick="window.location.href='{% url 'jobs_by_category' 'Marketing Specialist' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-bullhorn"></i></div>
            <p>Marketing Specialist</p>
        </div>

        <div class="card fs" onclick="window.location.href='{% url 'jobs_by_category' 'Full Stack Developer' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-laptop-code"></i></div>
            <p>Full Stack Developer</p>
        </div>

        <div class="card pm" onclick="window.location.href='{% url 'jobs_by_category' 'Product Manager' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-tasks"></i></div>
            <p>Product Manager</p>
        </div>

        <div class="card ds" onclick="window.location.href='{% url 'jobs_by_category' 'Data Scientist' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-chart-line"></i></div>
            <p>Data Scientist</p>
        </div>

        <div class="card proj" onclick="window.location.href='{% url 'jobs_by_category' 'Project Manager' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-project-diagram"></i></div>
            <p>Project Manager</p>
        </div>

        <div class="card ba" onclick="window.location.href='{% url 'jobs_by_category' 'Business Analyst' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-briefcase"></i></div>
            <p>Business Analyst</p>
        </div>

        <div class="card gd" onclick="window.location.href='{% url 'jobs_by_category' 'Graphic Designer' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-paint-brush"></i></div>
            <p>Graphic Designer</p>
        </div>

        <div class="card cyber" onclick="window.location.href='{% url 'jobs_by_category' 'Cybersecurity Analyst' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-user-shield"></i></div>
            <p>Cybersecurity Analyst</p>
        </div>

        <div class="card hr" onclick="window.location.href='{% url 'jobs_by_category' 'HR Specialist' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-users"></i></div>
            <p>HR Specialist</p>
        </div>

        <div class="card finance" onclick="window.location.href='{% url 'jobs_by_category' 'Finance Manager' %}'">
            <div class="overlay"></div>
            <div class="circle"><i class="fas fa-coins"></i></div>
            <p>Finance Manager</p>
        </div>

    </div>
</section>


<section class="how-it-works">
    <h2>How It Works</h2>
    <p class="subtitle">A simple 3-step process to land your dream job</p>
    <div class="steps-container">
      <div class="step-card">
        <img src="https://cdn-icons-png.flaticon.com/512/3034/3034076.png" alt="Search Jobs Icon" />
        <h3>1. Search Jobs</h3>
        <p>Explore thousands of job listings tailored to your skills and interests.</p>
      </div>
      <div class="step-card">
        <img src="https://cdn-icons-png.flaticon.com/512/1792/1792609.png" alt="Create Profile Icon" />
        <h3>2. Create Profile</h3>
        <p>Build your profile and upload your resume for employers to find you.</p>
      </div>
      <div class="step-card">
        <img src="https://cdn-icons-png.flaticon.com/512/4813/4813992.png" alt="Apply Now Icon" />
        <h3>3. Apply & Get Hired</h3>
        <p>Apply for jobs with a single click and get noticed by top companies.</p>
      </div>
    </div>
  </section>

  
  <!-- Career Insights Section -->
<section class="career-insights">
    <div class="container">
      <h2 class="section-title">Explore Career Trends & Insights</h2>
      <p class="section-subtitle">Stay ahead with real-time job market insights, salary benchmarks, and skill trends.</p>
  
      <div class="insights-cards">
        <div class="insight-card growth">
          <i class="fas fa-chart-line"></i>
          <h3>Industry Growth</h3>
          <p>Tech, Healthcare, and Finance sectors are seeing up to <strong>28% YoY</strong> growth in hiring.</p>
        </div>
        <div class="insight-card salary">
          <i class="fas fa-money-bill-wave"></i>
          <h3>Salary Trends</h3>
          <p>AI & Data Science roles offer <strong>20-30% higher</strong> pay than industry average.</p>
        </div>
        <div class="insight-card skills">
          <i class="fas fa-tools"></i>
          <h3>In-Demand Skills</h3>
          <p>Cloud Computing, Cybersecurity, and UX Design top the charts in 2025 job skills.</p>
        </div>
      </div>
    </div>
  </section>

<script>
document.getElementById('search-input').addEventListener('input', function() {
    var searchTerm = this.value;
    var suggestionsList = document.getElementById('suggestions-list');

    if (searchTerm) {
        fetch(`/search-suggestions/?term=${searchTerm}`)
            .then(response => response.json())
            .then(suggestions => {
                suggestionsList.innerHTML = '';  // Clear previous suggestions

                if (suggestions.length > 0) {
                    suggestionsList.classList.add('show');
                    suggestions.forEach(function(suggestion) {
                        var div = document.createElement('div');
                        div.classList.add('suggestion-item');
                        div.textContent = suggestion;
                        div.onclick = function() {
                            document.getElementById('search-input').value = suggestion;
                            suggestionsList.innerHTML = '';  // Clear suggestions after selection
                            suggestionsList.classList.remove('show');
                        };
                        suggestionsList.appendChild(div);
                    });
                } else {
                    suggestionsList.classList.remove('show');
                }
            });
    } else {
        suggestionsList.classList.remove('show');
    }
});

</script>
  

{% endblock %}
